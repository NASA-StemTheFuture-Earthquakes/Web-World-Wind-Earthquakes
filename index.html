    <!DOCTYPE html>


    <head lang="en">
        <title>EarthquakeViewer</title>
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://worldwindserver.net/webworldwind/examples/CoordinateController.css">
        <script src="http://worldwindserver.net/webworldwind/worldwindlib.js" type="text/javascript"></script>
        <script  src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"  type="text/javascript"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js" type="text/javascript"></script>
        <!-- Add bootstrap Slider Libraries -->
        <link rel="stylesheet" href=".idea/stylesheets/bootstrapSlider.min.css">
        <script src=".idea/scripts/bootstrapSlider.js" type="text/javascript"></script>
        <script src=".idea/scripts/JQuery.js" type="text/javascript"></script>
        <script src=".idea/scripts/EarthquakeLayer.js" type="text/javascript"></script>
        <script src=".idea/scripts/UGSDataRetriever.js" type="text/javascript"></script>
        <script src=".idea/scripts/LayerManager.js" type="text/javascript"></script>
        <style>
            #magnitudeSlider .slider-selection {
                background: #BABABA;
            }
            #title{
                color: darkslategray;
            }
            #ex1Slider .slider-selection {
                background: #BABABA;
            }
            body{
                color: #BABABA;
            }
        </style>
    </head>


    <meta charset="UTF-8">
    <title>World Wind Example</title>
    <!-- Include the Web World Wind library. -->
    <script src="http://worldwindserver.net/webworldwind/worldwindlib.js" type="text/javascript"></script>
    </head>

    <div class="container">
        <div class="jumbotron hidden-xs" id="title">
            <h2 style="text-align:center">JavaScript Earthquake Viewer with WebWorldWind Interface</h2>
        </div>
        <div class="row">
            <div class="col-sm-3"> <!--this div encapsulates the buttons and information section-->

                <div id="data">
                    <h4>Info</h4>
                    <div id="eData">

                    </div>
                    <!h4Projection<!/h4>

                    <div class="dropdown" id="projectionDropdown">

                    </div>

                    <div id="Panels">

                        <button type="button" class="btn btn-info btn-block dropdown-toggle" data-toggle="collapse" data-target="#cp">Control Panel<span class="caret"></span></button>

                        <div id="cp" class="collapse">

                            <div class="list-group" id="CPanel">

                            </div>

                        </div>

                    </div>


                    <br>
                    <button type="button" class="btn btn-info btn-block dropdown-toggle" data-toggle="collapse" data-target="#LAYER">Layers<span class="caret"></span></button>
                    <div id="LAYER" class="collapse">
                        <div class="list-group" id="layerList">
                        </div>
                    </div>
                    <br>
                    <h4>Destination</h4>
                    <div class="input-group" id="searchBox">
                        <input type="text" class="form-control" placeholder="GoTo" id="searchText"/>
                    <span class="input-group-btn">
                        <button id="searchButton" class="btn btn-primary" type="button">
                            <span class="glyphicon glyphicon-search"></span>
                        </button>
                    </span>
                    </div>
                    <h3>MinMag</h3>
                    <div id="minMag">



                        <input id="magnitudeSlider"
                               data-slider-id="magnitudeSlider"
                               type="number"
                               data-slider-min="2"
                               data-slider-max="10"
                               data-slider-step="1"
                               data-slider-value="2"/>




                    </div>
                </div>
            </div>
            <div class="col-sm-9" id="globe">
                <div style="position:relative">
                    <canvas id="canvasOne" width="1000" height="900" style="width: 100%; height: auto">
                        Your browser does not support HTML5 Canvas.
                    </canvas>
                    <div id="coordinateOverlay">
                        <span id="terrainLatitude"></span>
                        <span id="terrainLongitude"></span>
                        <span id="terrainElevation"></span>
                        <span id="eyeAltitudeLabel"></span>
                        <span id="eyeAltitude"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>


        // instantiate the slider
        var slider = new Slider('#magnitudeSlider', {
            formatter: function(value) {
                return 'Current value: ' + value;
            }
        });




        // Register an event listener to be called when the page is loaded.
        window.addEventListener("load", eventWindowLoaded, false);
        function eventWindowLoaded() {
            // Create a World Window for the canvas.
            var wwd = new WorldWind.WorldWindow("canvasOne");


            // Add some image layers to the World Window's globe.
            var layers = [
                {layer: new WorldWind.BMNGLayer(), enabled: true},
                {layer: new WorldWind.BMNGLandsatLayer(), enabled: false},
                {layer: new WorldWind.BingAerialLayer(null), enabled: false},
                {layer: new WorldWind.BingAerialWithLabelsLayer(null), enabled: false},
                {layer: new WorldWind.BingRoadsLayer(null), enabled: false},
                {layer: new WorldWind.CompassLayer(), enabled: true},
                {layer: new WorldWind.CoordinatesDisplayLayer(wwd), enabled: true},
                {layer: new WorldWind.ViewControlsLayer(wwd), enabled: true}
            ];

            // Create those layers.
            for (var l = 0; l < layers.length; l++) {
                layers[l].layer.enabled = layers[l].enabled;
                wwd.addLayer(layers[l].layer);
            }

            //Set the background image
            $('body').css('background-image', 'url("http://www.nasa.gov/images/content/627360main_potw1209a.jpg")');
            //get the earthquakes from usgs server


            //when slider value is set filter earthquakes by minimum magnitude
            // Now here we need to call the earthquake function to only display earthquakes greater than sliderValue
            slider.on('slideStop',function(arg){
                var newearthquakelist = [];
                for(var i = 0; i < earthQuakes.length; i++)
                {
                    if(earthQuakes[i].magnitude >= arg)
                    {
                        newearthquakelist.push(earthQuakes[i]);
                    }
                }
                var oldPlacemarks;
                for(var i = 0; i< wwd.layers.length; i++)
                {
                    if(wwd.layers[i].displayName == "Placemarks")
                    {
                        oldPlacemarks = wwd.layers[i];
                    }
                }
                wwd.removeLayer(oldPlacemarks);
                createPlaceMarks(wwd, newearthquakelist);

            });
            var earthQuakes = EarthQuakeRetrieval();
            createPlaceMarks(wwd, earthQuakes);

            var layerManager;
            layerManager = new LayerManager(wwd);
            var d = $(document).getElementById("layerList");
            wwd.redraw();

        }



        // Define the event listener to initialize Web World Wind.

    </script>
    </body>
    </html>